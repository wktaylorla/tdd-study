# 정리

## **5장. 솔직히 말하자면**

코드 복사를 하여 중복을 만들고 조금 고쳐서 테스트를 진행했고 / 이후 중복 제거는 6장의 숙제.

-   큰 테스트를 한번에 공략할 수는 없다. 그래서 진전을 나타낼 수 있는 자그마한 테스트를 만들었다.
-   (누군가가 보기에는) 뻔뻔스럽게도 중복을 만들고 조금 고쳐서 테스트를 작성했다.
-   중복이 사라지기 전에는 집에 가지 않을 것이다.

## **6장. 돌아온 ‘모두를 위한 평등’**

이전에 만든 중복코드를 제거하는 챕터 / Money 클래스가 공통의 equals코드를 갖게하여 중복코드를 제거했습니다.

충분한 테스트가 없다면 테스트가 갖춰지지 않은 리팩토링을 할 수 밖에 없다. 그렇게 되면 리팩토링하면서 실수했는데도 불구하고 테스트가 여전히 통과할 수도 있다.

있어야 할 것 같은 테스트를 작성하라. 그렇게 하지 않으면 결국에는 리팩토링하다가 뭔가 깨트릴 것이다. 그러면 여러분은 리팩토링에 대해 안 좋은 느낌을 갖게 되고, 리팩토링을 덜 하게 된다. 리팩토링을 더 적게 하면 설계의 질이 저하되고, 결국 여러분은 해고될 것이다. 리팩토링 전에 테스트를 하자.

## **7장. 사과와 오렌지**

you can’t compare apples and oranges : 서로 다른 것을 비교할 수 없다.

다른 하위 클래스간의 equals에서 true가 발생하는 것을 막기 위해 getClass()를 통한 비교 추가

## **8장. 객체 만들기**

팩토리 메서드를 도입하여 테스트 코드에서 콘크리트 하위 클래스의 존재 사실을 분리

테스트를 통해 코드 설계를 개선해나감.

> Well Grounded Java Developer
>
> 테스트 주도 개발의 기본 전제는 테스트를 구현하기 전에 작성하자는 것입니다. 이를 통해 테스트가 코드 설계에 영향을 미칩니다.테스트가 설계와 구현을 주도할 것입니다.

> 구글 엔지니어는 이렇게 일한다
>
> 테스트를 작성하는 행위는 시스템의 설계도 개선해줍니다. 테스트는 시스템 코드의 첫번째 고객이라는 자격으로 여러분이 설계한 설계에 관해 많은 이야기를 해줍니다. 데이터베이스에 너무 강하게 묶여 있는지. 이 API가 필수 유스케이스를 지원하는지, 시스템이 극단적인 상황들에 잘 대처하는지 등을 확인할 수 있습니다.
